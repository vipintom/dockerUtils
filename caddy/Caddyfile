{
	email tom.vipin@gmail.com
	crowdsec {
		api_url http://crowdsec:8080
		api_key {$CROWDSEC_API_KEY}
	}
}

(logging) {
	log {
		output file /var/log/caddy/access.log {
			roll_size 10mb
			roll_keep 5
		}
		format json
	}
}

# Health check
:80, :443 {
	respond /health 200
}

# Main domain
010790.xyz, www.010790.xyz {
	respond "Welcome to 010790.xyz"
	import logging
}

# Services
portainer.010790.xyz {
	reverse_proxy portainer:9000
	import logging
}

kuma.010790.xyz {
	reverse_proxy uptime-kuma:3001
	import logging
}

beszel.010790.xyz {
	reverse_proxy beszel-hub:8090
	import logging
}

llm.010790.xyz {
	reverse_proxy litellm:4000
	import logging
}

api.padtaal.010790.xyz {
	reverse_proxy padtaal_backend_api:8000
	import logging
}

enzo.010790.xyz {
	reverse_proxy enzo-web-prod:80
	import logging
}

jellyfin.010790.xyz {
	reverse_proxy jellyfin:8096 {
		header_up Host {host}
		header_up X-Real-IP {remote_ip}
		header_up X-Forwarded-For {remote_ip}
		header_up X-Forwarded-Proto {scheme}
		header_up X-Forwarded-Host {host}
	}
	import logging
}

sonarr.010790.xyz {
	reverse_proxy sonarr:8989
	import logging
}

radarr.010790.xyz {
	reverse_proxy radarr:7878
	import logging
}

prowlarr.010790.xyz {
	reverse_proxy prowlarr:9696
	import logging
}

qbittorrent.010790.xyz {
	reverse_proxy qbittorrent:8080
	import logging
}

jellyseerr.010790.xyz {
	reverse_proxy jellyseerr:5055
	import logging
}

bazarr.010790.xyz {
	reverse_proxy bazarr:6767
	import logging
}

sidekick.010790.xyz {
	reverse_proxy sidekick_frontend:80
	import logging
}

sidekick-backend.010790.xyz {
	reverse_proxy sidekick_backend:8000 {
		header_up Host {host}
		header_up X-Forwarded-For {remote_addr}
		header_up X-Forwarded-Proto {scheme}
	}
	import logging
}
