{
	admin :2019
	email tom.vipin@gmail.com

	metrics {
		per_host
	}

	log {
		output file /var/log/caddy/caddy_main.log {
			roll_size 50MiB
			roll_keep 3
			roll_keep_for 30d
		}
		format json
		level INFO
	}
}

(log_to_file) {
	log {
		output file /var/log/caddy/{args[0]} {
			roll_size 50MiB
			roll_keep 3
			roll_keep_for 30d
		}
		format json
		level INFO
	}
}

# Health check
:80, :443 {
	respond /health 200
}

# Main domain
010790.xyz, www.010790.xyz {
	respond "Welcome to 010790.xyz"
	import log_to_file 010790.xyz.log
}

# Services
portainer.010790.xyz {
	reverse_proxy portainer:9000
	import log_to_file portainer.010790.xyz.log
}

kuma.010790.xyz {
	reverse_proxy uptime-kuma:3001
	import log_to_file kuma.010790.xyz.log
}

beszel.010790.xyz {
	reverse_proxy beszel-hub:8090
	import log_to_file beszel.010790.xyz.log
}

llm.010790.xyz {
	reverse_proxy litellm:4000
	import log_to_file llm.010790.xyz.log
}

grafana.010790.xyz {
	reverse_proxy grafana:4004
	import log_to_file grafana.010790.xyz.log
}

api.padtaal.010790.xyz {
	reverse_proxy padtaal_backend_api:8000
	import log_to_file api.padtaal.010790.xyz.log
}
